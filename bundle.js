!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var n,o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=function(){function t(t,e){this.from=t,this.to=e}return Object.defineProperty(t.prototype,"slope",{get:function(){if(!this.isVertical)return(this.to.y-this.from.y)/(this.to.x-this.from.x)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yIntercept",{get:function(){if(!this.isVertical)return-(this.from.x*this.to.y-this.to.x*this.from.y)/(this.to.x-this.from.x)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minX",{get:function(){return Math.min(this.from.x,this.to.x)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxX",{get:function(){return Math.max(this.from.x,this.to.x)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minY",{get:function(){return Math.min(this.from.y,this.to.y)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxY",{get:function(){return Math.max(this.from.y,this.to.y)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVertical",{get:function(){return this.from.x===this.to.x},enumerable:!0,configurable:!0}),t.prototype.isDefinedAt=function(t){return!0},t.prototype.intersect=function(t){return this.isVertical&&t.isVertical?this.minX===t.minX:!!this.isVertical||(!!t.isVertical||(this.slope!==t.slope||this.yIntercept===t.yIntercept))},t.prototype.getIntersectionPoint=function(t){if(this.intersect(t)){var e,i;this.isVertical&&t.isVertical?(e=this.minX,i=t.minY):this.isVertical?(e=this.minX,i=t.slope*e+t.yIntercept):t.isVertical?(e=t.minX,i=this.slope*e+this.yIntercept):this.slope===t.slope?(e=t.minX,i=t.minY):(e=-(this.yIntercept-t.yIntercept)/(this.slope-t.slope),i=this.slope*e+this.yIntercept);var n=new a(e,i);return this.isDefinedAt(n)&&t.isDefinedAt(n)&&n}},t}(),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isDefinedAt=function(t){if(t.x<this.minX||this.maxX<t.x)return!1;if(this.isVertical)return this.minY<=t.y&&t.y<=this.maxY;var e=this.slope*t.x+this.yIntercept;return this.minY<=e&&e<=this.maxY},e}(s),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isDefinedAt=function(t){if(!this.isDefinedAtX(t.x))return!1;if(this.isVertical)return this.minY<=t.y&&t.y<=this.maxY;var e=this.slope*t.x+this.yIntercept;return this.isDefinedAtY(e)},e.prototype.isDefinedAtX=function(t){return this.from.x<=this.to.x?t>=this.from.x:t<=this.from.x},e.prototype.isDefinedAtY=function(t){return this.from.y<=this.to.y?t>=this.from.y:t<=this.from.y},e.prototype.getNearestIntersectionPointFromOrigin=function(t){for(var e=this,i=[],n=0,o=t;n<o.length;n++){var s=o[n],r=this.getIntersectionPoint(s);r&&i.push(r)}return i.sort((function(t,i){return e.from.getDistance(t)-e.from.getDistance(i)})),i[0]},e}(s),a=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},t.prototype.getDistance=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},t.prototype.getDegreeBetween=function(t){var e=Math.acos((t.x-this.x)/this.getDistance(t));return t.y<this.y?2*Math.PI-e:e},t.prototype.rotateAround=function(e,i){var n=Math.cos(i)*(this.x-e.x)-Math.sin(i)*(this.y-e.y),o=Math.sin(i)*(this.x-e.x)+Math.cos(i)*(this.y-e.y);return new t(n+e.x,o+e.y)},t}(),c=function(){function t(t){this.size=t,this.map=this.createMap(t),this.edges=[],this.points=[],this.updateEdges(),this.updatePoints()}return t.prototype.isFilled=function(t,e){return this.map[t][e].filled},t.prototype.toggle=function(t,e){var i=Math.floor(t),n=Math.floor(e);this.map[i][n].filled=!this.map[i][n].filled,this.updateEdges(),this.updatePoints()},t.prototype.updateEdges=function(){this.edges=[];for(var t=0;t<this.size;t+=1)for(var e=0;e<this.size;e+=1)this.map[t][e]={filled:this.map[t][e].filled},this.map[t][e].filled&&(this.checkTopCell(t,e),this.checkBottomCell(t,e),this.checkLeftCell(t,e),this.checkRightCell(t,e))},t.prototype.updatePoints=function(){this.points=[];for(var t=0,e=this.edges;t<e.length;t++){var i=e[t];this.points.push(i.from),this.points.push(i.to)}},t.prototype.getCastingPoints=function(t){var e=this.getCastingPointsFrom(t);return this.sortCastingPointsCounterClockwiseBasedOn(t,e),e},t.prototype.getCastingPointsFrom=function(t){for(var e=[],i=0,n=this.points;i<n.length;i++)for(var o=n[i],s=0,r=this.getCastingRays(t,o);s<r.length;s++){var h=r[s].getNearestIntersectionPointFromOrigin(this.edges);h&&e.push(h)}return e},t.prototype.getCastingRays=function(t,e){return[new h(t,e),new h(t,e.rotateAround(t,.01)),new h(t,e.rotateAround(t,-.01))]},t.prototype.sortCastingPointsCounterClockwiseBasedOn=function(t,e){e.sort((function(e,i){return t.getDegreeBetween(e)-t.getDegreeBetween(i)}))},t.prototype.checkTopCell=function(t,e){if(t-1>=0&&!this.map[t-1][e].filled)if(e-1>=0&&this.map[t][e-1].up){(i=this.map[t][e-1].up).to.x+=1,this.map[t][e].up=i}else{var i=new r(new a(e,t),new a(e+1,t));this.map[t][e].up=i,this.edges.push(i)}},t.prototype.checkBottomCell=function(t,e){if(t+1<this.size&&!this.map[t+1][e].filled)if(e-1>=0&&this.map[t][e-1].down){(i=this.map[t][e-1].down).to.x+=1,this.map[t][e].down=i}else{var i=new r(new a(e,t+1),new a(e+1,t+1));this.map[t][e].down=i,this.edges.push(i)}},t.prototype.checkLeftCell=function(t,e){if(e-1>=0&&!this.map[t][e-1].filled)if(t-1>=0&&this.map[t-1][e].left){(i=this.map[t-1][e].left).to.y+=1,this.map[t][e].left=i}else{var i=new r(new a(e,t),new a(e,t+1));this.map[t][e].left=i,this.edges.push(i)}},t.prototype.checkRightCell=function(t,e){if(e+1<this.size&&!this.map[t][e+1].filled)if(t-1>=0&&this.map[t-1][e].right){(i=this.map[t-1][e].right).to.y+=1,this.map[t][e].right=i}else{var i=new r(new a(e+1,t),new a(e+1,t+1));this.map[t][e].right=i,this.edges.push(i)}},t.prototype.createMap=function(t){for(var e=[],i=0;i<t;i+=1){for(var n=[],o=0;o<t;o+=1)n.push({filled:0===i||0===o||i===t-1||o===t-1});e.push(n)}return e},t}(),p=function(){function t(t,e){this.size=t,this.map=e,this.element=this.createCanvasElement(t),this.addOnClickHandler(),this.addOnMouseOverHandler(),this.addOnMouseOutHandler(),this.scale=this.size/e.size}return t.prototype.createCanvasElement=function(t){var e=document.createElement("canvas");return e.width=t,e.height=t,e.setAttribute("style","border: 1px solid;"),document.getElementById("main").appendChild(e),e},t.prototype.addOnClickHandler=function(){var t=this;this.element.onclick=function(e){t.map.toggle(e.offsetY/t.scale,e.offsetX/t.scale)}},t.prototype.addOnMouseOverHandler=function(){var t=this;this.element.onmousemove=function(e){t.cursorPosition=new a(e.offsetX/t.scale,e.offsetY/t.scale)}},t.prototype.addOnMouseOutHandler=function(){var t=this;this.element.onmouseout=function(e){t.cursorPosition=void 0}},t.prototype.draw=function(t){this.clearCanvas(),this.drawCell(),t.showEdges&&this.drawEdges(),this.drawShadowCasting(t)},t.prototype.clearCanvas=function(){var t=this.element.getContext("2d");t.fillStyle="black",t.fillRect(0,0,this.size,this.size)},t.prototype.drawCell=function(){for(var t=this.element.getContext("2d"),e=0;e<this.size;e+=this.scale)for(var i=0;i<this.size;i+=this.scale)this.map.isFilled(Math.floor(e/this.scale),Math.floor(i/this.scale))&&(t.fillStyle="#0000ff",t.fillRect(i,e,this.scale,this.scale))},t.prototype.drawEdges=function(){var t=this;this.map.edges.forEach((function(e){var i=t.scale/4;t.drawPoint(e.from,i),t.drawLine(e),t.drawPoint(e.to,i)}))},t.prototype.drawShadowCasting=function(t){if(this.cursorPosition&&this.showShadowCasting()){var e=this.map.getCastingPoints(this.cursorPosition);this.drawGradientShadow(this.cursorPosition,e);for(var i=0,n=e;i<n.length;i++){var o=n[i];t.showIntersectionPoints&&this.drawIntersectionPoint(o),t.showCastingLines&&this.drawCastingLine(this.cursorPosition,o)}}},t.prototype.showShadowCasting=function(){return!!this.cursorPosition&&!this.map.isFilled(Math.floor(this.cursorPosition.y),Math.floor(this.cursorPosition.x))},t.prototype.drawCastingLine=function(t,e){this.drawLine(new s(t,e),"yellow")},t.prototype.drawIntersectionPoint=function(t){this.drawPoint(t,this.scale/8,"green")},t.prototype.drawPoint=function(t,e,i){void 0===i&&(i="red");var n=this.element.getContext("2d");n.beginPath(),n.arc(t.x*this.scale,t.y*this.scale,e,0,2*Math.PI),n.fillStyle=i,n.fill(),n.stroke()},t.prototype.drawLine=function(t,e){void 0===e&&(e="white");var i=this.element.getContext("2d");i.beginPath(),i.moveTo(t.from.x*this.scale,t.from.y*this.scale),i.lineTo(t.to.x*this.scale,t.to.y*this.scale),i.strokeStyle=e,i.stroke()},t.prototype.drawGradientShadow=function(t,e){var i=this.element.getContext("2d").createRadialGradient(t.x*this.scale,t.y*this.scale,1,t.x*this.scale,t.y*this.scale,this.size/4);i.addColorStop(0,"white"),i.addColorStop(1,"black"),this.drawShape(e,i)},t.prototype.drawShape=function(t,e){void 0===e&&(e="white");var i=this.element.getContext("2d");if(t.length>0){i.beginPath();var n=t.length;i.moveTo(t[0].x*this.scale,t[0].y*this.scale);for(var o=1;o<=n;o+=1)i.lineTo(t[o%n].x*this.scale,t[o%n].y*this.scale);i.closePath(),i.fillStyle=e,i.fill()}},t}(),l=function(){function t(t){this.options=t,this.createOptionsCheckboxElements()}return t.prototype.createOptionsCheckboxElements=function(){var t=this,e=document.createElement("div"),i=this.createCheckboxElementWithLabelAndOnChange("showCastingLines","Show casting lines",(function(e,i){t.options.showCastingLines=e.checked}),this.options.showCastingLines);e.appendChild(i);var n=this.createCheckboxElementWithLabelAndOnChange("showEdges","Show edges",(function(e,i){t.options.showEdges=e.checked}),this.options.showEdges);e.appendChild(n);var o=this.createCheckboxElementWithLabelAndOnChange("showIntersectionPoints","Show intersection points",(function(e,i){t.options.showIntersectionPoints=e.checked}),this.options.showIntersectionPoints);e.appendChild(o),document.getElementById("main").appendChild(e)},t.prototype.createCheckboxElementWithLabelAndOnChange=function(t,e,i,n){void 0===n&&(n=!1);var o=document.createElement("div");return o.appendChild(this.createCheckboxElementWithOnChange(t,i,n)),o.appendChild(this.createLabelElementFor(t,e)),o},t.prototype.createCheckboxElementWithOnChange=function(t,e,i){void 0===i&&(i=!1);var n=document.createElement("input");return n.setAttribute("type","checkbox"),n.setAttribute("name",t),n.onchange=function(t){e(n,t)},n.checked=i,n},t.prototype.createLabelElementFor=function(t,e){var i=document.createElement("label");return i.setAttribute("for",t),i.innerText=e,i},t}();new(function(){function t(t,e,i){this.map=new c(t/e),this.fps=i,this.options={showCastingLines:!1,showEdges:!1,showIntersectionPoints:!1},this.optionsPanel=new l(this.options),this.canvas=new p(t,this.map)}return t.prototype.run=function(){var t=this;setInterval((function(){t.canvas.draw(t.options)}),1e3/this.fps)},t}())(640,16,60).run()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFwLnRzIiwid2VicGFjazovLy8uL3NyYy9jYW52YXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL29wdGlvbnNQYW5lbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImZyb20iLCJ0byIsInRoaXMiLCJpc1ZlcnRpY2FsIiwieSIsIngiLCJNYXRoIiwibWluIiwibWF4IiwiaXNEZWZpbmVkQXQiLCJpbnRlcnNlY3QiLCJsaW5lIiwibWluWCIsInNsb3BlIiwieUludGVyY2VwdCIsImdldEludGVyc2VjdGlvblBvaW50IiwibWluWSIsImludGVyc2VjdGlvblBvaW50IiwiUG9pbnQiLCJtYXhYIiwibWF4WSIsIkxpbmUiLCJpc0RlZmluZWRBdFgiLCJpc0RlZmluZWRBdFkiLCJnZXROZWFyZXN0SW50ZXJzZWN0aW9uUG9pbnRGcm9tT3JpZ2luIiwibGluZXMiLCJpbnRlcnNlY3Rpb25Qb2ludHMiLCJwdXNoIiwic29ydCIsInAxIiwicDIiLCJnZXREaXN0YW5jZSIsImVxdWFscyIsInNxcnQiLCJwb3ciLCJnZXREZWdyZWVCZXR3ZWVuIiwiZGVncmVlIiwiYWNvcyIsIlBJIiwicm90YXRlQXJvdW5kIiwiY2VudGVyIiwiWCIsImNvcyIsInNpbiIsIlkiLCJzaXplIiwibWFwIiwiY3JlYXRlTWFwIiwiZWRnZXMiLCJwb2ludHMiLCJ1cGRhdGVFZGdlcyIsInVwZGF0ZVBvaW50cyIsImlzRmlsbGVkIiwiZmlsbGVkIiwidG9nZ2xlIiwiZmxvb3IiLCJjaGVja1RvcENlbGwiLCJjaGVja0JvdHRvbUNlbGwiLCJjaGVja0xlZnRDZWxsIiwiY2hlY2tSaWdodENlbGwiLCJlZGdlIiwiZ2V0Q2FzdGluZ1BvaW50cyIsImNhc3RpbmdQb2ludHMiLCJnZXRDYXN0aW5nUG9pbnRzRnJvbSIsInNvcnRDYXN0aW5nUG9pbnRzQ291bnRlckNsb2Nrd2lzZUJhc2VkT24iLCJwb2ludCIsImdldENhc3RpbmdSYXlzIiwiUmF5IiwidXAiLCJTZWdtZW50IiwiZG93biIsImxlZnQiLCJyaWdodCIsInJvdyIsImoiLCJlbGVtZW50IiwiY3JlYXRlQ2FudmFzRWxlbWVudCIsImFkZE9uQ2xpY2tIYW5kbGVyIiwiYWRkT25Nb3VzZU92ZXJIYW5kbGVyIiwiYWRkT25Nb3VzZU91dEhhbmRsZXIiLCJzY2FsZSIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIndpZHRoIiwiaGVpZ2h0Iiwic2V0QXR0cmlidXRlIiwiZ2V0RWxlbWVudEJ5SWQiLCJhcHBlbmRDaGlsZCIsIm9uY2xpY2siLCJldmVudCIsIm9mZnNldFkiLCJvZmZzZXRYIiwib25tb3VzZW1vdmUiLCJjdXJzb3JQb3NpdGlvbiIsIm9ubW91c2VvdXQiLCJ1bmRlZmluZWQiLCJkcmF3IiwicHJvcHMiLCJjbGVhckNhbnZhcyIsImRyYXdDZWxsIiwic2hvd0VkZ2VzIiwiZHJhd0VkZ2VzIiwiZHJhd1NoYWRvd0Nhc3RpbmciLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiZm9yRWFjaCIsInJhZGl1cyIsImRyYXdQb2ludCIsImRyYXdMaW5lIiwic2hvd1NoYWRvd0Nhc3RpbmciLCJkcmF3R3JhZGllbnRTaGFkb3ciLCJzaG93SW50ZXJzZWN0aW9uUG9pbnRzIiwiZHJhd0ludGVyc2VjdGlvblBvaW50Iiwic2hvd0Nhc3RpbmdMaW5lcyIsImRyYXdDYXN0aW5nTGluZSIsImNvbG9yIiwiYmVnaW5QYXRoIiwiYXJjIiwiZmlsbCIsInN0cm9rZSIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZVN0eWxlIiwiZ3JhZGllbnQiLCJjcmVhdGVSYWRpYWxHcmFkaWVudCIsImFkZENvbG9yU3RvcCIsImRyYXdTaGFwZSIsImxlbmd0aCIsImNvdW50IiwiY2xvc2VQYXRoIiwib3B0aW9ucyIsImNyZWF0ZU9wdGlvbnNDaGVja2JveEVsZW1lbnRzIiwicm9vdEVsZW1lbnQiLCJzaG93Q2FzdGluZ0xpbmVzRWxlbWVudCIsImNyZWF0ZUNoZWNrYm94RWxlbWVudFdpdGhMYWJlbEFuZE9uQ2hhbmdlIiwiY2hlY2tlZCIsInNob3dFZGdlc0VsZW1lbnQiLCJzaG93SW50ZXJzZWN0aW9uUG9pbnRzRWxlbWVudCIsImxhYmVsIiwib25DaGFuZ2UiLCJjcmVhdGVDaGVja2JveEVsZW1lbnRXaXRoT25DaGFuZ2UiLCJjcmVhdGVMYWJlbEVsZW1lbnRGb3IiLCJjaGVja2JveEVsZW1lbnQiLCJvbmNoYW5nZSIsImxhYmVsRWxlbWVudCIsImlubmVyVGV4dCIsImZwcyIsIm9wdGlvbnNQYW5lbCIsIk9wdGlvbnNQYW5lbCIsInJ1biIsInNldEludGVydmFsIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0Ms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QUFSLFNBQTBDeEssRUFBY3VLLEVBQTZESixRQUFBLElBQUFBLE9BQUEsR0FDbkgsSUFBTU8sRUFBa0IvRCxTQUFTQyxjQUFjLFNBTy9DLE9BTkE4RCxFQUFnQjNELGFBQWEsT0FBUSxZQUNyQzJELEVBQWdCM0QsYUFBYSxPQUFRL0csR0FDckMwSyxFQUFnQkMsU0FBVyxTQUFDeEQsR0FDMUJvRCxFQUFTRyxFQUFpQnZELElBRTVCdUQsRUFBZ0JQLFFBQVVBLEVBQ25CTyxHQUdELFlBQUFELHNCQUFSLFNBQThCekssRUFBY3NLLEdBQzFDLElBQU1NLEVBQWVqRSxTQUFTQyxjQUFjLFNBRzVDLE9BRkFnRSxFQUFhN0QsYUFBYSxNQUFPL0csR0FDakM0SyxFQUFhQyxVQUFZUCxFQUNsQk0sR0FFWCxFQXJEQSxHQ0FBLElDR0EsV0FPRSxXQUFZdEcsRUFBY21DLEVBQWVxRSxHQUN2Q25KLEtBQUs0QyxJQUFNLElBQUksRUFBSUQsRUFBT21DLEdBQzFCOUUsS0FBS21KLElBQU1BLEVBQ1huSixLQUFLbUksUUFBVSxDQUNiakIsa0JBQWtCLEVBQ2xCZixXQUFXLEVBQ1hhLHdCQUF3QixHQUUxQmhILEtBQUtvSixhQUFlLElBQUlDLEVBQWFySixLQUFLbUksU0FDMUNuSSxLQUFLK0UsT0FBUyxJQUFJLEVBQU9wQyxFQUFNM0MsS0FBSzRDLEtBUXhDLE9BTEUsWUFBQTBHLElBQUEsc0JBQ0VDLGFBQVksV0FDVixFQUFLeEUsT0FBT2dCLEtBQUssRUFBS29DLFdBQ3JCLElBQU9uSSxLQUFLbUosTUFFbkIsRUF4QkEsR0RIQSxDQUFRLElBQUssR0FBSSxJQUFJRyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJleHBvcnQgY2xhc3MgTGluZSB7XG4gIHJlYWRvbmx5IGZyb206IFBvaW50O1xuICByZWFkb25seSB0bzogUG9pbnQ7XG5cbiAgY29uc3RydWN0b3IoZnJvbTogUG9pbnQsIHRvOiBQb2ludCkge1xuICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgdGhpcy50byA9IHRvO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldCBzbG9wZSgpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICAgIGlmICghdGhpcy5pc1ZlcnRpY2FsKSB7XG4gICAgICByZXR1cm4gKHRoaXMudG8ueSAtIHRoaXMuZnJvbS55KSAvICh0aGlzLnRvLnggLSB0aGlzLmZyb20ueCk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGdldCB5SW50ZXJjZXB0KCk6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKCF0aGlzLmlzVmVydGljYWwpIHtcbiAgICAgIHJldHVybiAtKHRoaXMuZnJvbS54ICogdGhpcy50by55IC0gdGhpcy50by54ICogdGhpcy5mcm9tLnkpIC8gKHRoaXMudG8ueCAtIHRoaXMuZnJvbS54KTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0IG1pblgoKSB7XG4gICAgcmV0dXJuIE1hdGgubWluKHRoaXMuZnJvbS54LCB0aGlzLnRvLngpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldCBtYXhYKCkge1xuICAgIHJldHVybiBNYXRoLm1heCh0aGlzLmZyb20ueCwgdGhpcy50by54KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXQgbWluWSgpIHtcbiAgICByZXR1cm4gTWF0aC5taW4odGhpcy5mcm9tLnksIHRoaXMudG8ueSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0IG1heFkoKSB7XG4gICAgcmV0dXJuIE1hdGgubWF4KHRoaXMuZnJvbS55LCB0aGlzLnRvLnkpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldCBpc1ZlcnRpY2FsKCkge1xuICAgIHJldHVybiB0aGlzLmZyb20ueCA9PT0gdGhpcy50by54O1xuICB9XG5cbiAgcHJvdGVjdGVkIGlzRGVmaW5lZEF0KHA6IFBvaW50KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBwcml2YXRlIGludGVyc2VjdChsaW5lOiBMaW5lKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCAmJiBsaW5lLmlzVmVydGljYWwpIHtcbiAgICAgIHJldHVybiB0aGlzLm1pblggPT09IGxpbmUubWluWDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmIChsaW5lLmlzVmVydGljYWwpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zbG9wZSA9PT0gbGluZS5zbG9wZSkge1xuICAgICAgcmV0dXJuIHRoaXMueUludGVyY2VwdCA9PT0gbGluZS55SW50ZXJjZXB0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBnZXRJbnRlcnNlY3Rpb25Qb2ludChsaW5lOiBMaW5lKTogUG9pbnQgfCB1bmRlZmluZWQge1xuICAgIGlmICghdGhpcy5pbnRlcnNlY3QobGluZSkpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgbGV0IHgsIHk7XG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCAmJiBsaW5lLmlzVmVydGljYWwpIHtcbiAgICAgIHggPSB0aGlzLm1pblg7XG4gICAgICB5ID0gbGluZS5taW5ZO1xuICAgIH0gZWxzZSBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XG4gICAgICB4ID0gdGhpcy5taW5YO1xuICAgICAgeSA9IGxpbmUuc2xvcGUgKiB4ICsgbGluZS55SW50ZXJjZXB0O1xuICAgIH0gZWxzZSBpZiAobGluZS5pc1ZlcnRpY2FsKSB7XG4gICAgICB4ID0gbGluZS5taW5YO1xuICAgICAgeSA9IHRoaXMuc2xvcGUgKiB4ICsgdGhpcy55SW50ZXJjZXB0O1xuICAgIH0gZWxzZSBpZiAodGhpcy5zbG9wZSA9PT0gbGluZS5zbG9wZSkge1xuICAgICAgeCA9IGxpbmUubWluWDtcbiAgICAgIHkgPSBsaW5lLm1pblk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHggPSAtKHRoaXMueUludGVyY2VwdCAtIGxpbmUueUludGVyY2VwdCkgLyAodGhpcy5zbG9wZSAtIGxpbmUuc2xvcGUpO1xuICAgICAgeSA9IHRoaXMuc2xvcGUgKiB4ICsgdGhpcy55SW50ZXJjZXB0O1xuICAgIH1cbiAgICBjb25zdCBpbnRlcnNlY3Rpb25Qb2ludCA9IG5ldyBQb2ludCh4LCB5KTtcbiAgICByZXR1cm4gdGhpcy5pc0RlZmluZWRBdChpbnRlcnNlY3Rpb25Qb2ludCkgJiYgbGluZS5pc0RlZmluZWRBdChpbnRlcnNlY3Rpb25Qb2ludCkgJiYgaW50ZXJzZWN0aW9uUG9pbnQ7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNlZ21lbnQgZXh0ZW5kcyBMaW5lIHtcbiAgaXNEZWZpbmVkQXQocDogUG9pbnQpOiBib29sZWFuIHtcbiAgICBpZiAocC54IDwgdGhpcy5taW5YIHx8IHRoaXMubWF4WCA8IHAueCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcbiAgICAgIHJldHVybiB0aGlzLm1pblkgPD0gcC55ICYmIHAueSA8PSB0aGlzLm1heFk7XG4gICAgfVxuXG4gICAgY29uc3QgeSA9IHRoaXMuc2xvcGUgKiBwLnggKyB0aGlzLnlJbnRlcmNlcHQ7XG4gICAgcmV0dXJuIHRoaXMubWluWSA8PSB5ICYmIHkgPD0gdGhpcy5tYXhZO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSYXkgZXh0ZW5kcyBMaW5lIHtcbiAgaXNEZWZpbmVkQXQocDogUG9pbnQpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuaXNEZWZpbmVkQXRYKHAueCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XG4gICAgICByZXR1cm4gdGhpcy5taW5ZIDw9IHAueSAmJiBwLnkgPD0gdGhpcy5tYXhZO1xuICAgIH1cblxuICAgIGNvbnN0IHkgPSB0aGlzLnNsb3BlICogcC54ICsgdGhpcy55SW50ZXJjZXB0O1xuICAgIHJldHVybiB0aGlzLmlzRGVmaW5lZEF0WSh5KTtcbiAgfVxuXG4gIHByaXZhdGUgaXNEZWZpbmVkQXRYKHg6IG51bWJlcikge1xuICAgIGlmICh0aGlzLmZyb20ueCA8PSB0aGlzLnRvLngpIHtcbiAgICAgIHJldHVybiB4ID49IHRoaXMuZnJvbS54O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4geCA8PSB0aGlzLmZyb20ueDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGlzRGVmaW5lZEF0WSh5OiBudW1iZXIpIHtcbiAgICBpZiAodGhpcy5mcm9tLnkgPD0gdGhpcy50by55KSB7XG4gICAgICByZXR1cm4geSA+PSB0aGlzLmZyb20ueTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHkgPD0gdGhpcy5mcm9tLnk7XG4gICAgfVxuICB9XG5cbiAgZ2V0TmVhcmVzdEludGVyc2VjdGlvblBvaW50RnJvbU9yaWdpbihsaW5lczogTGluZVtdKTogUG9pbnQgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGludGVyc2VjdGlvblBvaW50czogUG9pbnRbXSA9IFtdO1xuICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgICAgY29uc3QgaW50ZXJzZWN0aW9uUG9pbnQgPSB0aGlzLmdldEludGVyc2VjdGlvblBvaW50KGxpbmUpO1xuICAgICAgaWYgKGludGVyc2VjdGlvblBvaW50KSB7XG4gICAgICAgIGludGVyc2VjdGlvblBvaW50cy5wdXNoKGludGVyc2VjdGlvblBvaW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaW50ZXJzZWN0aW9uUG9pbnRzLnNvcnQoKHAxLCBwMikgPT4gdGhpcy5mcm9tLmdldERpc3RhbmNlKHAxKSAtIHRoaXMuZnJvbS5nZXREaXN0YW5jZShwMikpO1xuICAgIHJldHVybiBpbnRlcnNlY3Rpb25Qb2ludHNbMF07XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBvaW50IHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gIH1cblxuICBlcXVhbHMocDogUG9pbnQpIHtcbiAgICByZXR1cm4gdGhpcy54ID09PSBwLnggJiYgdGhpcy55ID09PSBwLnk7XG4gIH1cblxuICBnZXREaXN0YW5jZShwOiBQb2ludCk6IG51bWJlciB7XG4gICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyh0aGlzLnggLSBwLngsIDIpICsgTWF0aC5wb3codGhpcy55IC0gcC55LCAyKSk7XG4gIH1cblxuICBnZXREZWdyZWVCZXR3ZWVuKHA6IFBvaW50KTogbnVtYmVyIHtcbiAgICBjb25zdCBkZWdyZWUgPSBNYXRoLmFjb3MoKHAueCAtIHRoaXMueCkgLyB0aGlzLmdldERpc3RhbmNlKHApKTtcbiAgICByZXR1cm4gcC55IDwgdGhpcy55ID8gMiAqIE1hdGguUEkgLSBkZWdyZWUgOiBkZWdyZWU7XG4gIH1cblxuICByb3RhdGVBcm91bmQoY2VudGVyOiBQb2ludCwgZGVncmVlOiBudW1iZXIpOiBQb2ludCB7XG4gICAgY29uc3QgWCA9IE1hdGguY29zKGRlZ3JlZSkgKiAodGhpcy54IC0gY2VudGVyLngpIC0gTWF0aC5zaW4oZGVncmVlKSAqICh0aGlzLnkgLSBjZW50ZXIueSk7XG4gICAgY29uc3QgWSA9IE1hdGguc2luKGRlZ3JlZSkgKiAodGhpcy54IC0gY2VudGVyLngpICsgTWF0aC5jb3MoZGVncmVlKSAqICh0aGlzLnkgLSBjZW50ZXIueSk7XG5cbiAgICByZXR1cm4gbmV3IFBvaW50KFggKyBjZW50ZXIueCwgWSArIGNlbnRlci55KTtcbiAgfVxufSIsImltcG9ydCB7IFJheSwgU2VnbWVudCwgUG9pbnQgfSBmcm9tICcuL2NvbW1vbic7XG5cbmludGVyZmFjZSBDZWxsIHtcbiAgZmlsbGVkOiBib29sZWFuO1xuICB1cD86IFNlZ21lbnQ7XG4gIGRvd24/OiBTZWdtZW50O1xuICBsZWZ0PzogU2VnbWVudDtcbiAgcmlnaHQ/OiBTZWdtZW50O1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXAge1xuICBwcml2YXRlIHJlYWRvbmx5IG1hcDogQ2VsbFtdW107XG4gIHJlYWRvbmx5IHNpemU6IG51bWJlcjtcbiAgZWRnZXM6IFNlZ21lbnRbXTtcbiAgcG9pbnRzOiBQb2ludFtdO1xuXG4gIGNvbnN0cnVjdG9yKHNpemU6IG51bWJlcikge1xuICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgdGhpcy5tYXAgPSB0aGlzLmNyZWF0ZU1hcChzaXplKTtcbiAgICB0aGlzLmVkZ2VzID0gW107XG4gICAgdGhpcy5wb2ludHMgPSBbXTtcblxuICAgIHRoaXMudXBkYXRlRWRnZXMoKTtcbiAgICB0aGlzLnVwZGF0ZVBvaW50cygpO1xuICB9XG5cbiAgaXNGaWxsZWQoeTogbnVtYmVyLCB4OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5tYXBbeV1beF0uZmlsbGVkO1xuICB9XG5cbiAgdG9nZ2xlKHk6IG51bWJlciwgeDogbnVtYmVyKSB7XG4gICAgY29uc3QgWSA9IE1hdGguZmxvb3IoeSk7XG4gICAgY29uc3QgWCA9IE1hdGguZmxvb3IoeCk7XG4gICAgdGhpcy5tYXBbWV1bWF0uZmlsbGVkID0gIXRoaXMubWFwW1ldW1hdLmZpbGxlZDtcblxuICAgIHRoaXMudXBkYXRlRWRnZXMoKTtcbiAgICB0aGlzLnVwZGF0ZVBvaW50cygpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVFZGdlcygpIHtcbiAgICB0aGlzLmVkZ2VzID0gW107XG5cbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuc2l6ZTsgeSArPSAxKSB7XG4gICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMuc2l6ZTsgeCArPSAxKSB7XG4gICAgICAgIHRoaXMubWFwW3ldW3hdID0ge1xuICAgICAgICAgIGZpbGxlZDogdGhpcy5tYXBbeV1beF0uZmlsbGVkLFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0aGlzLm1hcFt5XVt4XS5maWxsZWQpIHtcbiAgICAgICAgICB0aGlzLmNoZWNrVG9wQ2VsbCh5LCB4KTtcbiAgICAgICAgICB0aGlzLmNoZWNrQm90dG9tQ2VsbCh5LCB4KTtcbiAgICAgICAgICB0aGlzLmNoZWNrTGVmdENlbGwoeSwgeCk7XG4gICAgICAgICAgdGhpcy5jaGVja1JpZ2h0Q2VsbCh5LCB4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlUG9pbnRzKCkge1xuICAgIHRoaXMucG9pbnRzID0gW107XG5cbiAgICBmb3IgKGNvbnN0IGVkZ2Ugb2YgdGhpcy5lZGdlcykge1xuICAgICAgdGhpcy5wb2ludHMucHVzaChlZGdlLmZyb20pO1xuICAgICAgdGhpcy5wb2ludHMucHVzaChlZGdlLnRvKTtcbiAgICB9XG4gIH1cblxuICBnZXRDYXN0aW5nUG9pbnRzKHA6IFBvaW50KSB7XG4gICAgY29uc3QgY2FzdGluZ1BvaW50cyA9IHRoaXMuZ2V0Q2FzdGluZ1BvaW50c0Zyb20ocCk7XG4gICAgdGhpcy5zb3J0Q2FzdGluZ1BvaW50c0NvdW50ZXJDbG9ja3dpc2VCYXNlZE9uKHAsIGNhc3RpbmdQb2ludHMpO1xuICAgIHJldHVybiBjYXN0aW5nUG9pbnRzO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRDYXN0aW5nUG9pbnRzRnJvbShwOiBQb2ludCkge1xuICAgIGNvbnN0IGNhc3RpbmdQb2ludHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHBvaW50IG9mIHRoaXMucG9pbnRzKSB7XG4gICAgICBmb3IgKGNvbnN0IHJheSBvZiB0aGlzLmdldENhc3RpbmdSYXlzKHAsIHBvaW50KSkge1xuICAgICAgICBjb25zdCBpbnRlcnNlY3Rpb25Qb2ludCA9IHJheS5nZXROZWFyZXN0SW50ZXJzZWN0aW9uUG9pbnRGcm9tT3JpZ2luKHRoaXMuZWRnZXMpO1xuICAgICAgICBpZiAoaW50ZXJzZWN0aW9uUG9pbnQpIHtcbiAgICAgICAgICBjYXN0aW5nUG9pbnRzLnB1c2goaW50ZXJzZWN0aW9uUG9pbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjYXN0aW5nUG9pbnRzO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRDYXN0aW5nUmF5cyhmcm9tOiBQb2ludCwgdG86IFBvaW50KSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIG5ldyBSYXkoZnJvbSwgdG8pLFxuICAgICAgbmV3IFJheShmcm9tLCB0by5yb3RhdGVBcm91bmQoZnJvbSwgMC4wMSkpLFxuICAgICAgbmV3IFJheShmcm9tLCB0by5yb3RhdGVBcm91bmQoZnJvbSwgLTAuMDEpKSxcbiAgICBdO1xuICB9XG5cbiAgcHJpdmF0ZSBzb3J0Q2FzdGluZ1BvaW50c0NvdW50ZXJDbG9ja3dpc2VCYXNlZE9uKHA6IFBvaW50LCBjYXN0aW5nUG9pbnRzOiBQb2ludFtdKSB7XG4gICAgY2FzdGluZ1BvaW50cy5zb3J0KChwMSwgcDIpID0+IHtcbiAgICAgIHJldHVybiBwLmdldERlZ3JlZUJldHdlZW4ocDEpIC0gcC5nZXREZWdyZWVCZXR3ZWVuKHAyKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgY2hlY2tUb3BDZWxsKHk6IG51bWJlciwgeDogbnVtYmVyKSB7XG4gICAgaWYgKHkgLSAxID49IDAgJiYgIXRoaXMubWFwW3kgLSAxXVt4XS5maWxsZWQpIHtcbiAgICAgIGlmICh4IC0gMSA+PSAwICYmIHRoaXMubWFwW3ldW3ggLSAxXS51cCkge1xuICAgICAgICBjb25zdCBlZGdlID0gdGhpcy5tYXBbeV1beCAtIDFdLnVwO1xuICAgICAgICBlZGdlLnRvLnggKz0gMTtcbiAgICAgICAgdGhpcy5tYXBbeV1beF0udXAgPSBlZGdlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZWRnZSA9IG5ldyBTZWdtZW50KG5ldyBQb2ludCh4LCB5KSwgbmV3IFBvaW50KHggKyAxLCB5KSk7XG4gICAgICAgIHRoaXMubWFwW3ldW3hdLnVwID0gZWRnZTtcbiAgICAgICAgdGhpcy5lZGdlcy5wdXNoKGVkZ2UpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY2hlY2tCb3R0b21DZWxsKHk6IG51bWJlciwgeDogbnVtYmVyKSB7XG4gICAgaWYgKHkgKyAxIDwgdGhpcy5zaXplICYmICF0aGlzLm1hcFt5ICsgMV1beF0uZmlsbGVkKSB7XG4gICAgICBpZiAoeCAtIDEgPj0gMCAmJiB0aGlzLm1hcFt5XVt4IC0gMV0uZG93bikge1xuICAgICAgICBjb25zdCBlZGdlID0gdGhpcy5tYXBbeV1beCAtIDFdLmRvd247XG4gICAgICAgIGVkZ2UudG8ueCArPSAxO1xuICAgICAgICB0aGlzLm1hcFt5XVt4XS5kb3duID0gZWRnZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGVkZ2UgPSBuZXcgU2VnbWVudChuZXcgUG9pbnQoeCwgeSArIDEpLCBuZXcgUG9pbnQoeCArIDEsIHkgKyAxKSk7XG4gICAgICAgIHRoaXMubWFwW3ldW3hdLmRvd24gPSBlZGdlO1xuICAgICAgICB0aGlzLmVkZ2VzLnB1c2goZWRnZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjaGVja0xlZnRDZWxsKHk6IG51bWJlciwgeDogbnVtYmVyKSB7XG4gICAgaWYgKHggLSAxID49IDAgJiYgIXRoaXMubWFwW3ldW3ggLSAxXS5maWxsZWQpIHtcbiAgICAgIGlmICh5IC0gMSA+PSAwICYmIHRoaXMubWFwW3kgLSAxXVt4XS5sZWZ0KSB7XG4gICAgICAgIGNvbnN0IGVkZ2UgPSB0aGlzLm1hcFt5IC0gMV1beF0ubGVmdDtcbiAgICAgICAgZWRnZS50by55ICs9IDE7XG4gICAgICAgIHRoaXMubWFwW3ldW3hdLmxlZnQgPSBlZGdlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZWRnZSA9IG5ldyBTZWdtZW50KG5ldyBQb2ludCh4LCB5KSwgbmV3IFBvaW50KHgsIHkgKyAxKSk7XG4gICAgICAgIHRoaXMubWFwW3ldW3hdLmxlZnQgPSBlZGdlO1xuICAgICAgICB0aGlzLmVkZ2VzLnB1c2goZWRnZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjaGVja1JpZ2h0Q2VsbCh5OiBudW1iZXIsIHg6IG51bWJlcikge1xuICAgIGlmICh4ICsgMSA8IHRoaXMuc2l6ZSAmJiAhdGhpcy5tYXBbeV1beCArIDFdLmZpbGxlZCkge1xuICAgICAgaWYgKHkgLSAxID49IDAgJiYgdGhpcy5tYXBbeSAtIDFdW3hdLnJpZ2h0KSB7XG4gICAgICAgIGNvbnN0IGVkZ2UgPSB0aGlzLm1hcFt5IC0gMV1beF0ucmlnaHQ7XG4gICAgICAgIGVkZ2UudG8ueSArPSAxO1xuICAgICAgICB0aGlzLm1hcFt5XVt4XS5yaWdodCA9IGVkZ2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBlZGdlID0gbmV3IFNlZ21lbnQobmV3IFBvaW50KHggKyAxLCB5KSwgbmV3IFBvaW50KHggKyAxLCB5ICsgMSkpO1xuICAgICAgICB0aGlzLm1hcFt5XVt4XS5yaWdodCA9IGVkZ2U7XG4gICAgICAgIHRoaXMuZWRnZXMucHVzaChlZGdlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZU1hcChzaXplOiBudW1iZXIpOiBDZWxsW11bXSB7XG4gICAgY29uc3QgbWFwOiBDZWxsW11bXSA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IHJvdzogQ2VsbFtdID0gW107XG5cbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc2l6ZTsgaiArPSAxKSB7XG4gICAgICAgIHJvdy5wdXNoKHsgZmlsbGVkOiBpID09PSAwIHx8IGogPT09IDAgfHwgaSA9PT0gc2l6ZSAtIDEgfHwgaiA9PT0gc2l6ZSAtIDEgfSk7XG4gICAgICB9XG5cbiAgICAgIG1hcC5wdXNoKHJvdyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hcDtcbiAgfVxufSIsImltcG9ydCBNYXAgZnJvbSAnLi9tYXAnO1xuaW1wb3J0IHsgTGluZSwgUG9pbnQgfSBmcm9tICcuL2NvbW1vbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbnZhcyB7XG4gIHByaXZhdGUgcmVhZG9ubHkgZWxlbWVudDogSFRNTENhbnZhc0VsZW1lbnQ7XG4gIHJlYWRvbmx5IHNpemU6IG51bWJlcjtcbiAgcHJpdmF0ZSByZWFkb25seSBtYXA6IE1hcDtcbiAgcHJpdmF0ZSByZWFkb25seSBzY2FsZTogbnVtYmVyO1xuICBwcml2YXRlIGN1cnNvclBvc2l0aW9uPzogUG9pbnQ7XG5cbiAgY29uc3RydWN0b3Ioc2l6ZTogbnVtYmVyLCBtYXA6IE1hcCkge1xuICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgdGhpcy5lbGVtZW50ID0gdGhpcy5jcmVhdGVDYW52YXNFbGVtZW50KHNpemUpO1xuICAgIHRoaXMuYWRkT25DbGlja0hhbmRsZXIoKTtcbiAgICB0aGlzLmFkZE9uTW91c2VPdmVySGFuZGxlcigpO1xuICAgIHRoaXMuYWRkT25Nb3VzZU91dEhhbmRsZXIoKTtcbiAgICB0aGlzLnNjYWxlID0gdGhpcy5zaXplIC8gbWFwLnNpemU7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUNhbnZhc0VsZW1lbnQoc2l6ZTogbnVtYmVyKTogSFRNTENhbnZhc0VsZW1lbnQge1xuICAgIGNvbnN0IGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgIGNhbnZhcy53aWR0aCA9IHNpemU7XG4gICAgY2FudmFzLmhlaWdodCA9IHNpemU7XG4gICAgY2FudmFzLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnYm9yZGVyOiAxcHggc29saWQ7Jyk7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpLmFwcGVuZENoaWxkKGNhbnZhcyk7XG5cbiAgICByZXR1cm4gY2FudmFzO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRPbkNsaWNrSGFuZGxlcigpIHtcbiAgICB0aGlzLmVsZW1lbnQub25jbGljayA9IChldmVudCkgPT4ge1xuICAgICAgdGhpcy5tYXAudG9nZ2xlKGV2ZW50Lm9mZnNldFkgLyB0aGlzLnNjYWxlLCBldmVudC5vZmZzZXRYIC8gdGhpcy5zY2FsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkT25Nb3VzZU92ZXJIYW5kbGVyKCkge1xuICAgIHRoaXMuZWxlbWVudC5vbm1vdXNlbW92ZSA9IChldmVudCkgPT4ge1xuICAgICAgdGhpcy5jdXJzb3JQb3NpdGlvbiA9IG5ldyBQb2ludChldmVudC5vZmZzZXRYIC8gdGhpcy5zY2FsZSwgZXZlbnQub2Zmc2V0WSAvIHRoaXMuc2NhbGUpO1xuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGFkZE9uTW91c2VPdXRIYW5kbGVyKCkge1xuICAgIHRoaXMuZWxlbWVudC5vbm1vdXNlb3V0ID0gKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLmN1cnNvclBvc2l0aW9uID0gdW5kZWZpbmVkO1xuICAgIH07XG4gIH1cblxuICBkcmF3KHByb3BzOiB7XG4gICAgc2hvd0VkZ2VzOiBib29sZWFuLFxuICAgIHNob3dDYXN0aW5nTGluZXM6IGJvb2xlYW4sXG4gICAgc2hvd0ludGVyc2VjdGlvblBvaW50czogYm9vbGVhblxuICB9KSB7XG4gICAgdGhpcy5jbGVhckNhbnZhcygpO1xuXG4gICAgdGhpcy5kcmF3Q2VsbCgpO1xuICAgIGlmIChwcm9wcy5zaG93RWRnZXMpIHtcbiAgICAgIHRoaXMuZHJhd0VkZ2VzKCk7XG4gICAgfVxuXG4gICAgdGhpcy5kcmF3U2hhZG93Q2FzdGluZyhwcm9wcyk7XG4gIH1cblxuICBwcml2YXRlIGNsZWFyQ2FudmFzKCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmVsZW1lbnQuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRoaXMuc2l6ZSwgdGhpcy5zaXplKTtcbiAgfVxuXG4gIHByaXZhdGUgZHJhd0NlbGwoKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuZWxlbWVudC5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNpemU7IGkgKz0gdGhpcy5zY2FsZSkge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLnNpemU7IGogKz0gdGhpcy5zY2FsZSkge1xuICAgICAgICBpZiAodGhpcy5tYXAuaXNGaWxsZWQoTWF0aC5mbG9vcihpIC8gdGhpcy5zY2FsZSksIE1hdGguZmxvb3IoaiAvIHRoaXMuc2NhbGUpKSkge1xuICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gXCIjMDAwMGZmXCI7XG4gICAgICAgICAgY29udGV4dC5maWxsUmVjdChqLCBpLCB0aGlzLnNjYWxlLCB0aGlzLnNjYWxlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZHJhd0VkZ2VzKCkge1xuICAgIHRoaXMubWFwLmVkZ2VzLmZvckVhY2goKGVkZ2UpID0+IHtcbiAgICAgIGNvbnN0IHJhZGl1cyA9IHRoaXMuc2NhbGUgLyA0O1xuXG4gICAgICB0aGlzLmRyYXdQb2ludChlZGdlLmZyb20sIHJhZGl1cyk7XG4gICAgICB0aGlzLmRyYXdMaW5lKGVkZ2UpO1xuICAgICAgdGhpcy5kcmF3UG9pbnQoZWRnZS50bywgcmFkaXVzKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgZHJhd1NoYWRvd0Nhc3RpbmcocHJvcHM6IHtcbiAgICBzaG93Q2FzdGluZ0xpbmVzOiBib29sZWFuLFxuICAgIHNob3dJbnRlcnNlY3Rpb25Qb2ludHM6IGJvb2xlYW5cbiAgfSkge1xuICAgIGlmICh0aGlzLmN1cnNvclBvc2l0aW9uICYmIHRoaXMuc2hvd1NoYWRvd0Nhc3RpbmcoKSkge1xuICAgICAgY29uc3QgY2FzdGluZ1BvaW50cyA9IHRoaXMubWFwLmdldENhc3RpbmdQb2ludHModGhpcy5jdXJzb3JQb3NpdGlvbik7XG5cbiAgICAgIHRoaXMuZHJhd0dyYWRpZW50U2hhZG93KHRoaXMuY3Vyc29yUG9zaXRpb24sIGNhc3RpbmdQb2ludHMpO1xuICAgICAgZm9yIChjb25zdCBwb2ludCBvZiBjYXN0aW5nUG9pbnRzKSB7XG4gICAgICAgIGlmIChwcm9wcy5zaG93SW50ZXJzZWN0aW9uUG9pbnRzKSB7XG4gICAgICAgICAgdGhpcy5kcmF3SW50ZXJzZWN0aW9uUG9pbnQocG9pbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wcy5zaG93Q2FzdGluZ0xpbmVzKSB7XG4gICAgICAgICAgdGhpcy5kcmF3Q2FzdGluZ0xpbmUodGhpcy5jdXJzb3JQb3NpdGlvbiwgcG9pbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzaG93U2hhZG93Q2FzdGluZygpIHtcbiAgICBpZiAodGhpcy5jdXJzb3JQb3NpdGlvbikge1xuICAgICAgcmV0dXJuICF0aGlzLm1hcC5pc0ZpbGxlZChNYXRoLmZsb29yKHRoaXMuY3Vyc29yUG9zaXRpb24ueSksIE1hdGguZmxvb3IodGhpcy5jdXJzb3JQb3NpdGlvbi54KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSBkcmF3Q2FzdGluZ0xpbmUoZnJvbTogUG9pbnQsIHRvOiBQb2ludCkge1xuICAgIHRoaXMuZHJhd0xpbmUobmV3IExpbmUoZnJvbSwgdG8pLCBcInllbGxvd1wiKTtcbiAgfVxuXG4gIHByaXZhdGUgZHJhd0ludGVyc2VjdGlvblBvaW50KHBvaW50OiBQb2ludCkge1xuICAgIHRoaXMuZHJhd1BvaW50KHBvaW50LCB0aGlzLnNjYWxlIC8gOCwgXCJncmVlblwiKTtcbiAgfVxuXG4gIHByaXZhdGUgZHJhd1BvaW50KHA6IFBvaW50LCByOiBudW1iZXIsIGNvbG9yOiBzdHJpbmcgPSBcInJlZFwiKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuZWxlbWVudC5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICBjb250ZXh0LmFyYyhwLnggKiB0aGlzLnNjYWxlLCBwLnkgKiB0aGlzLnNjYWxlLCByLCAwLCAyICogTWF0aC5QSSk7XG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICBjb250ZXh0LmZpbGwoKTtcbiAgICBjb250ZXh0LnN0cm9rZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBkcmF3TGluZShsaW5lOiBMaW5lLCBjb2xvcjogc3RyaW5nID0gXCJ3aGl0ZVwiKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuZWxlbWVudC5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICBjb250ZXh0Lm1vdmVUbyhsaW5lLmZyb20ueCAqIHRoaXMuc2NhbGUsIGxpbmUuZnJvbS55ICogdGhpcy5zY2FsZSk7XG4gICAgY29udGV4dC5saW5lVG8obGluZS50by54ICogdGhpcy5zY2FsZSwgbGluZS50by55ICogdGhpcy5zY2FsZSk7XG4gICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGNvbG9yO1xuICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gIH1cblxuICBwcml2YXRlIGRyYXdHcmFkaWVudFNoYWRvdyhjZW50ZXI6IFBvaW50LCBwb2ludHM6IFBvaW50W10pIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5lbGVtZW50LmdldENvbnRleHQoJzJkJyk7XG5cbiAgICBjb25zdCBncmFkaWVudCA9IGNvbnRleHQuY3JlYXRlUmFkaWFsR3JhZGllbnQoXG4gICAgICBjZW50ZXIueCAqIHRoaXMuc2NhbGUsIGNlbnRlci55ICogdGhpcy5zY2FsZSwgMSxcbiAgICAgIGNlbnRlci54ICogdGhpcy5zY2FsZSwgY2VudGVyLnkgKiB0aGlzLnNjYWxlLCB0aGlzLnNpemUgLyA0XG4gICAgKTtcbiAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMCwgXCJ3aGl0ZVwiKTtcbiAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMSwgXCJibGFja1wiKTtcbiAgICB0aGlzLmRyYXdTaGFwZShwb2ludHMsIGdyYWRpZW50KTtcbiAgfVxuXG4gIHByaXZhdGUgZHJhd1NoYXBlKHBvaW50czogUG9pbnRbXSwgY29sb3I6IHN0cmluZyB8IENhbnZhc0dyYWRpZW50IHwgQ2FudmFzUGF0dGVybiA9IFwid2hpdGVcIikge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmVsZW1lbnQuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIGlmIChwb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgIGNvbnN0IGNvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgICAgIGNvbnRleHQubW92ZVRvKHBvaW50c1swXS54ICogdGhpcy5zY2FsZSwgcG9pbnRzWzBdLnkgKiB0aGlzLnNjYWxlKTtcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IGNvdW50OyBpICs9IDEpIHtcbiAgICAgICAgY29udGV4dC5saW5lVG8ocG9pbnRzW2kgJSBjb3VudF0ueCAqIHRoaXMuc2NhbGUsIHBvaW50c1tpICUgY291bnRdLnkgKiB0aGlzLnNjYWxlKTtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IHsgQXBwT3B0aW9ucyB9IGZyb20gXCIuL2FwcE9wdGlvbnNcIjtcblxuZXhwb3J0IGNsYXNzIE9wdGlvbnNQYW5lbCB7XG4gIHByaXZhdGUgb3B0aW9uczogQXBwT3B0aW9ucztcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBBcHBPcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLmNyZWF0ZU9wdGlvbnNDaGVja2JveEVsZW1lbnRzKCk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZU9wdGlvbnNDaGVja2JveEVsZW1lbnRzKCkge1xuICAgIGNvbnN0IHJvb3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICBjb25zdCBzaG93Q2FzdGluZ0xpbmVzRWxlbWVudCA9IHRoaXMuY3JlYXRlQ2hlY2tib3hFbGVtZW50V2l0aExhYmVsQW5kT25DaGFuZ2UoJ3Nob3dDYXN0aW5nTGluZXMnLCAnU2hvdyBjYXN0aW5nIGxpbmVzJywgKGVsZW1lbnQsIGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLm9wdGlvbnMuc2hvd0Nhc3RpbmdMaW5lcyA9IGVsZW1lbnQuY2hlY2tlZDtcbiAgICB9LCB0aGlzLm9wdGlvbnMuc2hvd0Nhc3RpbmdMaW5lcyk7XG4gICAgcm9vdEVsZW1lbnQuYXBwZW5kQ2hpbGQoc2hvd0Nhc3RpbmdMaW5lc0VsZW1lbnQpO1xuXG4gICAgY29uc3Qgc2hvd0VkZ2VzRWxlbWVudCA9IHRoaXMuY3JlYXRlQ2hlY2tib3hFbGVtZW50V2l0aExhYmVsQW5kT25DaGFuZ2UoJ3Nob3dFZGdlcycsICdTaG93IGVkZ2VzJywgKGVsZW1lbnQsIGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLm9wdGlvbnMuc2hvd0VkZ2VzID0gZWxlbWVudC5jaGVja2VkO1xuICAgIH0sIHRoaXMub3B0aW9ucy5zaG93RWRnZXMpO1xuICAgIHJvb3RFbGVtZW50LmFwcGVuZENoaWxkKHNob3dFZGdlc0VsZW1lbnQpO1xuXG4gICAgY29uc3Qgc2hvd0ludGVyc2VjdGlvblBvaW50c0VsZW1lbnQgPSB0aGlzLmNyZWF0ZUNoZWNrYm94RWxlbWVudFdpdGhMYWJlbEFuZE9uQ2hhbmdlKCdzaG93SW50ZXJzZWN0aW9uUG9pbnRzJywgJ1Nob3cgaW50ZXJzZWN0aW9uIHBvaW50cycsIChlbGVtZW50LCBldmVudCkgPT4ge1xuICAgICAgdGhpcy5vcHRpb25zLnNob3dJbnRlcnNlY3Rpb25Qb2ludHMgPSBlbGVtZW50LmNoZWNrZWQ7XG4gICAgfSwgdGhpcy5vcHRpb25zLnNob3dJbnRlcnNlY3Rpb25Qb2ludHMpO1xuICAgIHJvb3RFbGVtZW50LmFwcGVuZENoaWxkKHNob3dJbnRlcnNlY3Rpb25Qb2ludHNFbGVtZW50KTtcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJykuYXBwZW5kQ2hpbGQocm9vdEVsZW1lbnQpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVDaGVja2JveEVsZW1lbnRXaXRoTGFiZWxBbmRPbkNoYW5nZShuYW1lOiBzdHJpbmcsIGxhYmVsOiBzdHJpbmcsIG9uQ2hhbmdlOiAoZWxlbWVudDogSFRNTElucHV0RWxlbWVudCwgZXZlbnQ6IEV2ZW50KSA9PiB2b2lkLCBjaGVja2VkOiBib29sZWFuID0gZmFsc2UpOiBIVE1MRGl2RWxlbWVudCB7XG4gICAgY29uc3Qgcm9vdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByb290RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUNoZWNrYm94RWxlbWVudFdpdGhPbkNoYW5nZShuYW1lLCBvbkNoYW5nZSwgY2hlY2tlZCkpO1xuICAgIHJvb3RFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlTGFiZWxFbGVtZW50Rm9yKG5hbWUsIGxhYmVsKSk7XG4gICAgcmV0dXJuIHJvb3RFbGVtZW50O1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVDaGVja2JveEVsZW1lbnRXaXRoT25DaGFuZ2UobmFtZTogc3RyaW5nLCBvbkNoYW5nZTogKGVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQsIGV2ZW50OiBFdmVudCkgPT4gdm9pZCwgY2hlY2tlZDogYm9vbGVhbiA9IGZhbHNlKTogSFRNTElucHV0RWxlbWVudCB7XG4gICAgY29uc3QgY2hlY2tib3hFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBjaGVja2JveEVsZW1lbnQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2NoZWNrYm94Jyk7XG4gICAgY2hlY2tib3hFbGVtZW50LnNldEF0dHJpYnV0ZSgnbmFtZScsIG5hbWUpO1xuICAgIGNoZWNrYm94RWxlbWVudC5vbmNoYW5nZSA9IChldmVudCkgPT4ge1xuICAgICAgb25DaGFuZ2UoY2hlY2tib3hFbGVtZW50LCBldmVudCk7XG4gICAgfTtcbiAgICBjaGVja2JveEVsZW1lbnQuY2hlY2tlZCA9IGNoZWNrZWQ7XG4gICAgcmV0dXJuIGNoZWNrYm94RWxlbWVudDtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlTGFiZWxFbGVtZW50Rm9yKG5hbWU6IHN0cmluZywgbGFiZWw6IHN0cmluZykge1xuICAgIGNvbnN0IGxhYmVsRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgbGFiZWxFbGVtZW50LnNldEF0dHJpYnV0ZSgnZm9yJywgbmFtZSk7XG4gICAgbGFiZWxFbGVtZW50LmlubmVyVGV4dCA9IGxhYmVsO1xuICAgIHJldHVybiBsYWJlbEVsZW1lbnQ7XG4gIH1cbn0iLCJpbXBvcnQgQXBwIGZyb20gJy4vYXBwJztcblxubmV3IEFwcCg2NDAsIDE2LCA2MCkucnVuKCk7IiwiaW1wb3J0IE1hcCBmcm9tICcuL21hcCc7XG5pbXBvcnQgQ2FudmFzIGZyb20gJy4vY2FudmFzJztcbmltcG9ydCB7IE9wdGlvbnNQYW5lbCB9IGZyb20gJy4vb3B0aW9uc1BhbmVsJztcbmltcG9ydCB7IEFwcE9wdGlvbnMgfSBmcm9tICcuL2FwcE9wdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHAge1xuICBwcml2YXRlIHJlYWRvbmx5IG1hcDogTWFwO1xuICBwcml2YXRlIHJlYWRvbmx5IGZwczogbnVtYmVyO1xuICBwcml2YXRlIHJlYWRvbmx5IG9wdGlvbnM6IEFwcE9wdGlvbnM7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2FudmFzOiBDYW52YXM7XG4gIHByaXZhdGUgcmVhZG9ubHkgb3B0aW9uc1BhbmVsOiBPcHRpb25zUGFuZWw7XG5cbiAgY29uc3RydWN0b3Ioc2l6ZTogbnVtYmVyLCBzY2FsZTogbnVtYmVyLCBmcHM6IG51bWJlcikge1xuICAgIHRoaXMubWFwID0gbmV3IE1hcChzaXplIC8gc2NhbGUpO1xuICAgIHRoaXMuZnBzID0gZnBzO1xuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIHNob3dDYXN0aW5nTGluZXM6IGZhbHNlLFxuICAgICAgc2hvd0VkZ2VzOiBmYWxzZSxcbiAgICAgIHNob3dJbnRlcnNlY3Rpb25Qb2ludHM6IGZhbHNlXG4gICAgfTtcbiAgICB0aGlzLm9wdGlvbnNQYW5lbCA9IG5ldyBPcHRpb25zUGFuZWwodGhpcy5vcHRpb25zKTtcbiAgICB0aGlzLmNhbnZhcyA9IG5ldyBDYW52YXMoc2l6ZSwgdGhpcy5tYXApO1xuICB9XG5cbiAgcnVuKCkge1xuICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRoaXMuY2FudmFzLmRyYXcodGhpcy5vcHRpb25zKTtcbiAgICB9LCAxMDAwIC8gdGhpcy5mcHMpO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9